# –†–µ–∑—é–º–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ BusinessCollector (–ì–ª–∞–≤–Ω—ã–π "–ë–æ–≥")

**–ë—ã–ª–æ:**

- 327 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –£–ø—Ä–∞–≤–ª—è–ª 4 –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é
- –°–æ–¥–µ—Ä–∂–∞–ª –ª–æ–≥–∏–∫—É fallback, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î, –±–∞—Ç—á–∏–Ω–≥–∞

**–°—Ç–∞–ª–æ:**

- ~148 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (—É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 55%)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –†–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **DataSourceCoordinator** (`data_source_coordinator.py`)
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö (API, HERE, MCP, Scraper)
   - Fallback –ª–æ–≥–∏–∫–∞ –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è location —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É

2. **BusinessRepository** (`business_repository.py`)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–æ–≤ –≤ –ë–î
   - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Dependency Injection

3. **BusinessCollector** (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω)
   - –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –±–∞—Ç—á–∏–Ω–≥ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
   - –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
   - –ß–∏—â–µ –∏ –ø—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 2. –£—Ç–∏–ª–∏—Ç—ã

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**

- `normalize_location()` –≤ `utils.py` - —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è location (–±—ã–ª–æ 3 –∫–æ–ø–∏–∏)

### 3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**–°–æ–∑–¥–∞–Ω–æ:**

- **ContactExtractor** (`contact_extractor.py`)
  - –û—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ phone-email-extractor
  - Fallback –Ω–∞ –±–∞–∑–æ–≤—ã–π regex

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è

### BusinessCollector

- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: 327 ‚Üí 148 (-55%)
- **–ú–µ—Ç–æ–¥–æ–≤**: 7 ‚Üí 3 (-57%)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: 4 –∫–ª–∏–µ–Ω—Ç–∞ + –ë–î ‚Üí 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–µ–Ω–∞

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

- `data_source_coordinator.py` - 163 —Å—Ç—Ä–æ–∫–∏
- `business_repository.py` - 88 —Å—Ç—Ä–æ–∫
- `contact_extractor.py` - 75 —Å—Ç—Ä–æ–∫

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

‚úÖ **Single Responsibility Principle (SRP)**

- –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –æ–¥–Ω—É —á–µ—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

‚úÖ **Dependency Inversion Principle (DIP)**

- BusinessRepository –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç DI –¥–ª—è –ë–î –∫–ª–∏–µ–Ω—Ç–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤

‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**

- –õ–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è location –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —É—Ç–∏–ª–∏—Ç—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ DataSourceCoordinator

‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –õ–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–∫–∏ –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üìù –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. –†–∞–∑–¥–µ–ª–∏—Ç—å GoogleMapsScraper –Ω–∞ BrowserManager –∏ GoogleMapsParser
   - BrowserManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º
   - GoogleMapsParser - –ø–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - RateLimiter - –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —É—Ç–∏–ª–∏—Ç—É

2. –£–±—Ä–∞—Ç—å fallback –ª–æ–≥–∏–∫—É –∏–∑ MCPGoogleMapsClient
   - MCP –∫–ª–∏–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ–± API –∫–ª–∏–µ–Ω—Ç–µ

3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dependency Injection –≤ BusinessExporter
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ BusinessRepository

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ GoogleMapsClient (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ)
2. –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (PRAGUE_DISTRICTS, BUSINESS_CATEGORIES) –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**

- –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ API –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `__init__.py`

## üìö –ù–æ–≤—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã

–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `__init__.py`:

- `DataSourceCoordinator`
- `BusinessRepository`
- `ContactExtractor`
- `normalize_location`

---

**–î–∞—Ç–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**: –Ø–Ω–≤–∞—Ä—å 2025
**–°—Ç–∞—Ç—É—Å**: –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω ‚úÖ
