# Параллельные агенты для скрапинга бизнесов

## Описание

Скрипт `collect_parallel_agents.py` запускает 5 параллельных агентов для сбора данных о бизнесах в Праге. Каждый агент работает независимо со своим поисковым запросом.

## Агенты

1. **barbershop** - парикмахерские
2. **tetovani** - тату-салоны
3. **restaurace** - рестораны
4. **lounge** - лаунжи
5. **kavarna** - кафе

## Использование

### Запуск через командную строку

```bash
# Windows (CMD)
scripts\run_parallel_agents.bat

# Windows (PowerShell)
scripts\run_parallel_agents.ps1

# Прямой запуск Python
python scripts\collect_parallel_agents.py
```

### Настройка

Скрипт использует те же настройки, что и основной скрипт сбора данных:

- `GOOGLE_MAPS_API_KEY` - ключ API Google Maps
- `LEAD_GENERATION_USE_API` - использовать API (по умолчанию: true)
- `LEAD_GENERATION_USE_MCP` - использовать MCP сервер (по умолчанию: true)
- `LEAD_GENERATION_USE_SCRAPER` - использовать браузерный скрапинг (по умолчанию: false)
- `LEAD_GENERATION_BATCH_SIZE` - размер батча (по умолчанию: 50)

## Как это работает

1. Каждый агент генерирует список запросов для всех районов Праги (Prague 1-10)
2. Агенты запускаются параллельно через `asyncio.gather()`
3. Каждый агент использует свой экземпляр `BusinessCollector`
4. Результаты сохраняются в базу данных с автоматической дедупликацией
5. Прогресс каждого агента логируется отдельно

## Логирование

Все логи сохраняются в файл `collect_parallel_agents.log` в корне проекта.

## Результаты

После завершения работы все агенты выводят сводную статистику:

- Количество найденных бизнесов
- Количество сохраненных бизнесов
- Количество ошибок
